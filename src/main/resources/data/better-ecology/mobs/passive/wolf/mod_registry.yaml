# ============================================================================
# MINECRAFT ECOSYSTEM MOD - GENERALIZED BEHAVIOR TEMPLATE
# Version: 2.0
# ============================================================================
#
# PURPOSE:
# This template defines ALL possible behaviors, systems, and parameters for
# ecosystem mobs. Individual mob profiles reference this template and only
# specify values that differ from defaults or require unique implementation.
#
# HOW TO USE:
# 1. AI reads this template ONCE to understand all available systems
# 2. For each mob, AI reads the mob's Unique Profile
# 3. Profile values override template defaults
# 4. Profile descriptions guide implementation of unique behaviors
#
# CONVENTIONS:
# - All time values are in ticks (20 ticks = 1 second)
# - All distances are in blocks
# - Percentages are 0.0-1.0 unless noted
# - null = disabled/not applicable
# - [] = empty list (none)
# ============================================================================

# ============================================================================
# SYSTEM 1: IDENTITY & CLASSIFICATION
# ============================================================================
# Every mob must have basic identity. These have no defaults - must be specified.
# ============================================================================

identity:
  mob_id: "minecraft:wolf"
  display_name: "Wolf"

  # Ecological classification
  classification:
    category: "NEUTRAL"         # Attacks when provoked
    trophic_level: "SECONDARY_CONSUMER"
    diet_type: "CARNIVORE"
    social_type: "PACK"
    activity_pattern: "CATHEMERAL"  # Active day and night

  # Reference information
  reference:
    real_world_analog: "Gray wolf"
    ecological_role: "Pack hunter that controls herbivore populations, maintains ecosystem balance through predation"

  # Tags for system filtering
  tags: ["pack_hunter", "tameable", "loyal"]


# ============================================================================
# SYSTEM 2: PHYSICAL ATTRIBUTES
# ============================================================================
# Base physical properties. Most have sensible defaults for a medium animal.
# ============================================================================

physical:
  # Health
  health:
    base: 4                     # 8 HP wild (4 hearts), will be 10 hearts when tamed
    baby_multiplier: 0.5

  # Size (affects hitbox and various calculations)
  size:
    width: 0.6
    height: 0.85
    baby_scale: 0.5

  # Biomass - abstract unit for food chain calculations
  biomass:
    adult: 120
    baby: 30
    transfer_efficiency: 0.1

  # Movement capabilities
  movement:
    speeds:
      walk: 0.3
      run: 0.5                  # Fast runner
      swim: 0.2
      fly: 0.0
      climb: 0.0

    capabilities:
      can_swim: true
      can_jump: true
      jump_height: 1.0
      avoids_water: false
      avoids_cliffs: true
      cliff_threshold: 4

    conditional_modifiers:
      baby: 0.7
      elderly: 0.8
      injured: 0.6
      hungry: 0.8
      fleeing: 1.4
      hunting: 1.5              # Very fast when hunting
      carrying_offspring: 0.7
      in_water_nonaquatic: 0.4


# ============================================================================
# SYSTEM 3: INTERNAL STATE TRACKING
# ============================================================================
# Mobs track internal states that drive behavior priorities.
# ============================================================================

internal_state:
  # Hunger system
  hunger:
    enabled: true
    max_value: 100
    starting_value: 70
    decay_rate: 0.025           # Carnivores need regular food

    thresholds:
      satiated: 75
      hungry: 50
      very_hungry: 25
      starving: 10

    starvation:
      damage_threshold: 5
      damage_amount: 1
      damage_interval: 200

  # Thirst system
  thirst:
    enabled: false

  # Body condition
  condition:
    enabled: true
    max_value: 100
    starting_value: 70

    gain_when_satiated: 0.01
    loss_when_hungry: 0.02
    loss_when_starving: 0.1

    thresholds:
      excellent: 85
      good: 65
      fair: 45
      poor: 25
      critical: 10

  # Energy/Stamina
  energy:
    enabled: true
    max_value: 100
    recovery_rate: 0.5

    costs:
      sprinting: 0.3
      hunting: 0.6              # High energy cost for pack hunting
      fleeing: 0.4
      flying: 0.0
      swimming: 0.2

  # Age tracking
  age:
    enabled: true
    baby_duration: 24000        # 20 minutes
    maturity_age: 24000
    elderly_age: null
    max_age: null

  # Social needs - important for pack animals
  social:
    enabled: true
    max_value: 100
    decay_rate: 0.015           # Slower decay for wolves
    recovery_rate: 0.15
    loneliness_threshold: 30


# ============================================================================
# SYSTEM 4: TEMPORAL BEHAVIOR RULES
# ============================================================================
# Wolves are cathemeral - active day and night
# ============================================================================

temporal:
  # Daily cycle - wolves are active throughout
  daily_cycle:
    schedule:
      - time: [0, 6000]
        activity: 1.0
        label: "morning"
      - time: [6000, 12000]
        activity: 1.0
        label: "afternoon"
      - time: [12000, 13500]
        activity: 1.0
        label: "dusk"
      - time: [13500, 22500]
        activity: 1.0           # Fully active at night
        label: "night"
      - time: [22500, 24000]
        activity: 1.0
        label: "pre_dawn"

    low_activity_behavior:
      action: "rest"
      seek_shelter: false       # Wolves don't seek shelter unless raining
      reduced_awareness: false
      awareness_multiplier: 1.0

  # Weather responses
  weather:
    rain:
      activity_multiplier: 0.9
      seek_shelter: false       # Wolves tolerate rain
      shelter_priority: 1
    thunder:
      activity_multiplier: 0.8
      seek_shelter: false
      panic_chance: 0.0
    snow:
      activity_multiplier: 1.0  # Wolves thrive in snow
      seek_shelter: false

  # Seasonal behaviors
  seasons:
    enabled: false

  # Moon phases
  lunar:
    enabled: false


# ============================================================================
# SYSTEM 5: SPATIAL BEHAVIOR RULES
# ============================================================================
# Wolves spawn in forests and taigas
# ============================================================================

spatial:
  # Habitat requirements
  habitat:
    biomes:
      allowed: []               # Will specify in unique profile
      preferred: ["forest", "taiga", "grove", "snowy_taiga", "old_growth_spruce_taiga", "old_growth_pine_taiga"]
      forbidden: ["desert", "badlands", "ocean", "deep_ocean"]

    altitude:
      min: 50
      max: 256
      preferred: [63, 180]

    required_nearby: []

  # Territory system - wolves are territorial
  territory:
    enabled: true
    size: 48                    # Pack territory
    defends: true
    marks: false
    overlap_tolerance: 0.2
    defense_against: ["same_species", "hostile"]

  # Home range
  home_range:
    enabled: true
    radius: 96                  # Large range for hunting
    has_home_point: true
    home_type: "DEN"

  # Shelter requirements
  shelter:
    needs_shelter: true
    shelter_uses: ["breeding", "baby_rearing", "hiding"]

    valid_shelters:
      - type: "cave"
        description: "Natural cave or overhang for den"
        min_enclosure: 0.7
      - type: "burrow"
        description: "Underground den"
        must_dig: false         # Wolves use natural caves, not dig
      - type: "vegetation"
        description: "Dense forest cover"
        blocks: ["leaves", "spruce_leaves", "dark_oak_leaves"]
        min_enclosure: 0.5

  location_triggers:
    enabled: false


# ============================================================================
# SYSTEM 6: DIET & FORAGING
# ============================================================================
# Wolves are carnivores - hunt prey
# ============================================================================

diet:
  # Food sources categorized by preference
  food_sources:
    primary:
      - type: "ENTITY"
        target: "minecraft:sheep"
        nutrition: 40
        saturation: 8000
        consumption_time: 100
        method: "HUNT"
        world_effect:
          action: "NONE"
        condition_gain: 8
        health_effect: 0

      - type: "ENTITY"
        target: "minecraft:rabbit"
        nutrition: 25
        saturation: 5000
        consumption_time: 60
        method: "HUNT"
        world_effect:
          action: "NONE"
        condition_gain: 5
        health_effect: 0

      - type: "ENTITY"
        target: "minecraft:fox"
        nutrition: 30
        saturation: 6000
        consumption_time: 80
        method: "HUNT"
        world_effect:
          action: "NONE"
        condition_gain: 6
        health_effect: 0

    secondary:
      - type: "ENTITY"
        target: "minecraft:skeleton"
        nutrition: 20
        saturation: 4000
        consumption_time: 100
        method: "HUNT"
        world_effect:
          action: "NONE"
        condition_gain: 4
        health_effect: 0

    emergency:
      - type: "ITEM"
        target: "minecraft:rotten_flesh"
        nutrition: 10
        saturation: 2000
        consumption_time: 40
        method: "PICKUP"
        world_effect:
          action: "NONE"
        condition_gain: 1
        health_effect: -1        # Slight damage from rotten flesh

  # Foraging behavior
  foraging:
    search_radius:
      base: 24
      when_hungry: 48
      when_starving: 64
    search_interval: 150

    # Memory system
    memory:
      remembers_locations: true
      memory_duration: 48000    # Good memory
      remembers_depleted: true
      avoids_depleted_for: 24000
      shares_with_group: true   # Pack shares knowledge

    sustainability:
      enabled: false            # Predators don't need sustainability


# ============================================================================
# SYSTEM 7: PREDATION
# ============================================================================
# Wolves are pack hunters
# ============================================================================

predation:
  # === AS PREDATOR ===
  as_predator:
    enabled: true

    # Prey selection
    prey:
      targets: ["minecraft:sheep", "minecraft:rabbit", "minecraft:fox", "minecraft:skeleton"]

      selection_rules:
        avoid_babies: true
        avoid_babies_exception: "starving"

        avoid_mothers_with_young: false  # Wolves will hunt mothers

        prefer_weak: true
        weak_preference: 2.5    # Strong preference for weak prey

        prefer_isolated: true
        isolated_preference: 2.0

        # Population awareness
        sustainable_hunting:
          enabled: true
          monitors_population: true
          monitor_radius: 128
          min_prey_count: 3
          reduced_hunting_threshold: 6
          reduced_hunting_multiplier: 0.5

    # Hunt execution
    hunting:
      method: "PACK"            # Coordinated pack hunting

      chase:
        max_duration: 400       # Persistent hunters
        give_up_distance: 64
        stamina_cost_per_tick: 0.4

      pack:
        min_hunters: 2
        coordination_radius: 48

      success_rate:
        base: 0.4               # Higher base rate for wolves
        modifiers:
          prey_is_baby: 1.8
          prey_is_elderly: 1.5
          prey_is_injured: 2.5
          prey_is_isolated: 1.6
          hunter_is_hungry: 1.3
          pack_hunt_per_member: 0.25  # Each pack member increases success

    # Post-kill behavior
    post_kill:
      eating_duration: 300
      guards_kill: true
      guard_duration: 400
      shares_with: ["pack", "offspring"]
      caches_excess: false

    # When to hunt
    triggers:
      hunger_threshold: 65
      opportunistic: true
      opportunistic_hunger_min: 80
      cooldown_after_kill: 6000

  # === AS PREY ===
  as_prey:
    enabled: false              # Wolves are apex predators, not prey


# ============================================================================
# SYSTEM 8: REPRODUCTION
# ============================================================================
# Wolf breeding
# ============================================================================

reproduction:
  enabled: true
  method: "SEXUAL"

  # === BREEDING REQUIREMENTS ===
  requirements:
    min_age: 24000
    max_age: null
    min_health: 0.8
    min_condition: 70           # Need good condition
    min_hunger: 70              # Must be well-fed

    recent_food:
      enabled: true
      time_window: 12000
      meals_required: 2         # Pack hunters eat regularly

    environment:
      near_water: false
      required_biomes: []
      required_blocks_nearby: []
      min_light: 0
      max_light: 15

    requires_shelter: true      # Need den for breeding
    shelter_type: "cave"

    time_of_day: null
    season: null
    weather: null

    mate_required: true
    mate_max_distance: 16

  # === POPULATION DENSITY EFFECTS ===
  density_effects:
    enabled: true
    check_radius: 96            # Large territory

    density_curve:
      - count: 2
        multiplier: 1.5         # Encourage small packs
      - count: 6
        multiplier: 1.0
      - count: 10
        multiplier: 0.4         # Reduce breeding in large packs
      - count: 15
        multiplier: 0.1
      - count: 20
        multiplier: 0.0

  # === MATE SELECTION ===
  mate_selection:
    search_radius: 48
    search_interval: 1000

    preferences:
      prefer_healthy: true
      prefer_good_condition: true
      avoid_relatives: true
      relative_recognition_duration: 96000

    courtship:
      enabled: false

  # === BREEDING PROCESS ===
  breeding:
    cooldown: 30000             # Longer cooldown for wolves

    gestation:
      type: "INSTANT"
      duration: 0
      behavior_during: []

    birth:
      offspring_count: [2, 4]   # Wolf litters
      condition_affects_count: true
      location_requirement: "in_shelter"

  # === PARENTAL CARE ===
  parental_care:
    enabled: true
    duration: 24000

    behaviors:
      protects_offspring: true
      protection_aggression: 3.0  # Very protective
      protection_radius: 12

      feeds_offspring: true     # Pack brings food to pups
      teaches_offspring: false
      carries_offspring: false

    offspring_behavior:
      follows_parent: true
      follow_distance: 3
      max_separation: 12
      separation_distress: true


# ============================================================================
# SYSTEM 9: SOCIAL BEHAVIOR
# ============================================================================
# Wolves are highly social pack animals
# ============================================================================

social:
  # Group structure
  group:
    type: "PACK"
    size:
      min: 2
      optimal: 6
      max: 12

    composition:
      mixed_sex: true
      mixed_age: true
      family_based: true        # Packs are family units

    leadership:
      has_leader: true
      leader_selection: "STRONGEST"
      follow_leader: true

  # Pack movement
  herd_movement:
    enabled: true
    cohesion_radius: 16
    separation_distance: 3
    alignment: true

  # Communication
  communication:
    alarm_calls:
      enabled: true
      types:
        - trigger: "threat_detected"
          call: "howl"
          group_response: "gather_and_defend"
      radius: 64
      chain_calling: true

    contact_calls:
      enabled: true
      when: ["separated", "found_food"]
      radius: 48

    mating_calls:
      enabled: false

  # Social behaviors
  behaviors:
    greeting: true              # Pack members greet
    allogrooming: false
    play: true                  # Wolves play, especially young
    huddling: true              # Rest together
    dominance_hierarchy: true

  # Group benefits
  group_benefits:
    predator_detection_bonus: 0.1
    foraging_efficiency_bonus: 0.15  # Pack hunts more efficiently
    thermoregulation_bonus: 0.05


# ============================================================================
# SYSTEM 10: ENVIRONMENTAL IMPACT
# ============================================================================
# Wolves have minimal direct environmental impact
# ============================================================================

environmental_impact:
  terrain:
    enabled: false

  ecosystem_services:
    seed_dispersal:
      enabled: false
    pollination:
      enabled: false
    nutrient_cycling:
      enabled: false
    decomposition:
      enabled: false

  responses:
    drinking:
      enabled: true
      frequency: 12000
      water_blocks: ["water"]
      duration: 40
      congregates: true         # Pack drinks together


# ============================================================================
# SYSTEM 11: POPULATION DYNAMICS
# ============================================================================
# Wolf spawning and population
# ============================================================================

population:
  # Spawning rules
  spawning:
    weight: 5                   # Uncommon spawns
    group_size: [4, 6]          # Spawn in packs

    conditions:
      blocks: ["grass_block", "snow", "dirt"]
      biomes: ["forest", "taiga", "grove", "snowy_taiga", "old_growth_spruce_taiga", "old_growth_pine_taiga"]
      light: [0, 15]
      altitude: [50, 200]
      time: null
      weather: null

  # Carrying capacity
  carrying_capacity:
    method: "SOFT_CAP"

    caps:
      per_chunk: 3              # Low density predator
      regional: 30              # Per 512x512 area

    over_capacity:
      - threshold: 1.2
        effects: ["reduced_breeding"]
      - threshold: 1.5
        effects: ["dispersal"]

  # Dispersal
  dispersal:
    enabled: true
    triggers: ["adulthood", "overcrowding"]
    distance: [128, 384]

  # Natural mortality
  mortality:
    old_age:
      enabled: false
    starvation:
      enabled: true
    disease:
      enabled: false


# ============================================================================
# SYSTEM 12: PLAYER INTERACTION
# ============================================================================
# Wolves can be tamed and bred by players
# ============================================================================

player_interaction:
  base_attitude: "NEUTRAL"      # Neutral unless provoked

  # Fear/approach distances
  distances:
    detection: 24
    caution: 8
    flee: 0                     # Wolves don't flee from players

  # Habituation
  habituation:
    enabled: false              # Wolves are tameable, not just habituated

  # Taming
  taming:
    enabled: true
    items: ["bone"]
    chance: 0.33
    requires_habituation: false

  # Player breeding
  player_breeding:
    enabled: true
    items: ["beef", "porkchop", "chicken", "mutton", "rabbit", "rotten_flesh"]
    bypasses_conditions: true   # Player can breed even if not all natural conditions met

  # Drops
  drops:
    on_death: []                # Wolves don't drop items naturally

  # Special interactions
  interactions:
    - action: "equip_armor"
      item: "wolf_armor"
      result: "equipped"
      description: "Can wear wolf armor crafted from armadillo scutes"


# ============================================================================
# SYSTEM 13: AESTHETICS & PERSONALITY
# ============================================================================
# Wolf personality
# ============================================================================

aesthetics:
  # Sounds
  sounds:
    ambient: "entity.wolf.ambient"
    hurt: "entity.wolf.hurt"
    death: "entity.wolf.death"
    baby: "entity.wolf.ambient"
    alarm: "entity.wolf.howl"
    mating: null
    eating: "entity.generic.eat"

  # Idle behaviors
  idle_behaviors:
    enabled: true
    behaviors:
      - behavior: "sit"
        frequency: 0.001
        trigger: "random"
      - behavior: "shake"
        frequency: 0.002
        trigger: "wet"
      - behavior: "howl"
        frequency: 0.0005
        trigger: "night"

  # Individual variation
  personality_traits:
    boldness:
      base: 0.7                 # Wolves are bold
      variation: 0.2
    activity:
      base: 0.6
      variation: 0.2
    sociability:
      base: 0.8                 # Very social
      variation: 0.1


# ============================================================================
# SYSTEM 14: AI GOAL PRIORITY FRAMEWORK
# ============================================================================
# Standard priority ordering for AI goals.
# ============================================================================

ai_priority_framework:
  # Survival (highest priority)
  survival:
    breathe: 0
    escape_danger: 1
    flee_predator: 2

  # Physiological needs
  physiological:
    critical_health: 3
    drink_water: 4
    eat_food: 5
    find_shelter: 6

  # Reproduction
  reproduction:
    care_for_offspring: 7
    breed: 8
    find_mate: 9

  # Social
  social:
    group_cohesion: 10
    social_interaction: 11

  # Hunting (for predators)
  hunting:
    hunt_prey: 12

  # Location behaviors
  location:
    location_triggered: 13
    territory_patrol: 14

  # Default behaviors
  default:
    wander: 15
    idle: 16
    rest: 17


# ============================================================================
# SYSTEM 15: ANIMAL-ANIMAL INTERACTIONS
# ============================================================================
# Wolves are pack hunters with complex social dynamics
# ============================================================================

interaction:
  # === SPECIES RELATIONSHIPS ===

  # Prey wolves hunt
  prey:
    - "minecraft:sheep"          # Primary prey
    - "minecraft:rabbit"         # Secondary prey
    - "minecraft:fox"            # Competitor and occasional prey

  # Competitors for territory
  competitors:
    - "minecraft:fox"            # Foxes compete for similar prey

  # Symbiotic partners (none for wolves)
  symbiotic_partners: []

  # Predators (wolves are apex, very few threats)
  predators: []

  # Pack animals - herd with other wolves (handled by social system)
  herd_compatible: []

  # === DYNAMIC RELATIONSHIP SYSTEM ===

  relationship_decay_rate: 0.0005     # Wolves remember relationships longer
  trust_build_rate: 0.02              # Strong pack bonding
  grudge_build_rate: 0.1               # Territorial

  # === SOCIAL BEHAVIORS ===

  gives_warning_calls: true            # Howls to warn pack of threats
  warning_cooldown: 300                # Howls have longer cooldown

  can_mourn: true                      # Wolves mourn pack members
  mourning_duration: 2400              # Extended mourning period

  can_grieve: false

  can_play: true                       # Wolf pups play

  can_be_altruistic: true              # Pack members protect each other

  can_teach: false                     # Teaching not implemented


# ============================================================================
# SYSTEM 16: UNIQUE BEHAVIOR FRAMEWORK
# ============================================================================
# Template for defining behaviors not covered by standard systems.
# ============================================================================

unique_behavior_template:
  structure:
    name: ""
    description: ""

    triggers:
      - type: ""
        conditions: {}

    requirements:
      all_of: []
      any_of: []
      none_of: []

    actions: []

    effects:
      on_self: []
      on_others: []
      on_world: []

    priority: 10
    duration: null
    cooldown: null
    interruptible: true
