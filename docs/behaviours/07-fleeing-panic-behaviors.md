# Fleeing and Panic Behaviors in Animals Facing Threats

## Overview

This document summarizes research on flight initiation distance, escape strategies, panic and group responses, alarm signals, and post-threat recovery behaviors.

## Key Behavioral Patterns

### Flight Initiation Distance (FID)

- **Definition**: Distance between predator and prey when escape begins
- **Economic escape theory** (Ydenberg & Dill, 1986): Prey flee when costs of remaining equal costs of escaping
- **Individual variation**: FID is repeatable within individuals but flexible across geographic contexts
- **Behavioral plasticity**: Animals adjust FID based on environmental context and threat level
- **Survival correlation**: FID predicts longer-term survival in some species

### Escape Strategies

- **Immediate flight**: Best strategy according to Broom and Ruxton (2005)
- **Thanatosis (playing dead)**: Effective for certain predator types (e.g., grizzly bears) but NOT others (e.g., black bears)
- **Zigzagging/unpredictable paths**: "Protean movement" - adaptively unpredictable behavior favored by pursuit-evasion co-evolution
- **Straight-line escape**: Used when refuge is nearby and directly accessible
- **Freezing**: Alternative to fleeing when predator detection is uncertain; controlled by amygdala-PAG neural circuits

### Panic and Group Responses

- **Stampeding**: Coordinated anti-predator response with tight group formations
- **Dilution effect**: Groups reduce individual predation risk through numbers
- **Confusion effect**: Large groups create visual/processing challenges for predators
- **Flash expansion** (fish): Rapid coordinated scattering to disorient predators
- **Selfish herd theory**: Individuals position to minimize personal predation risk

### Alarm Signals

- **Vocal/alarm calls**: Encode predator type, threat level, location
- **Visual signals**: Tail-flagging (ungulates), eye spots, coloration displays
- **Chemical signals**: Olfactory warnings (particularly in fish and insects)
- **Cross-species eavesdropping**: Animals learn from other species' alarm calls
- **Contagious alarming**: Warning behavior spreads through communities

---

## Species-Specific Examples

### Ungulates (Deer, Antelope)

- **Tail-flagging**: Visual anti-predator signal (white-tailed deer)
- **Staring and vigilance**: Pre-escape detection behaviors
- **Fight vs. flight decisions**: Based on predator type (ambush vs. cursorial)
- **Interspecific variation**: Different vulnerabilities based on anti-predator behavior

### Rodents

- **Freezing**: Medial prefrontal cortex (mPFC) and basolateral amygdala (BLA) control
- **Speed-dependent responses**: Escape behaviors triggered by frequencies within sensitive hearing range
- **Escape-freeze blends**: Combined defensive strategies
- **Threat history**: Influences flexible escape behavior
- **Bipedal locomotion** (desert rodents): Increases predator evasion ability

### Birds

- **Mobbing**: Cooperative defensive strategy - multiple birds converge on predators
- **Flocking confusion**: Numbers create targeting difficulties for predators
- **Alarm call specificity**: Different calls for aerial vs. ground predators
- **Visual search images**: Alarm calls trigger visual scanning
- **Social learning**: Individuals quickly learn to associate sounds with danger

### Fish

- **Schooling**: Benefits include predator detection, dilution, confusion
- **Escape waves**: Subcritical waves propagate through schools
- **Milling vs. schooling**: Switch between staying in place (less visible) and active evasion
- **Flash expansion**: Rapid coordinated scattering
- **Evasive maneuvers**: Similar across sub-surface predators but vary by hunting method

---

## Factors Affecting Flight Decisions

### Internal Factors

- **Body size/mass**: Larger species generally have longer FID
- **Age/experience**: Older animals may assess risk more accurately
- **Physiological state**: Injury, fatigue, reproductive condition affect escape capacity
- **Individual personality**: Bold vs. shy behavioral types

### External Factors

- **Distance to refuge**: Critical factor - birds escape earlier when refuge is farther
- **Group size**: Mixed evidence; generally weak to moderate effect
- **Habitat type**: Open vs. covered areas, urban vs. rural, water body type
- **Starting distance**: Distance at which predator approach begins
- **Predator approach speed**: Faster approaches trigger earlier escape
- **Predator type**: Ambush vs. cursorial predators elicit different strategies
- **Vegetation cover**: Trees and cover provide escape options
- **Seasonal factors**: Influence behavior and visibility

---

## Mathematical Models

### Optimal Escape Theory

- **Ydenberg & Dill (1986)** model: Cost-benefit analysis of escape timing
- **Decision rule**: Flee when marginal cost of staying equals marginal cost of fleeing
- **Key variables**: Predation risk, energetic cost of flight, lost foraging opportunities

### Game Theory Applications

- **Pursuit-evasion differential games**: Analyze predator-prey outcomes without assuming fixed behaviors
- **Graph-based and geometric-based modeling**: Environmental modeling approaches
- **Constant bearing strategy**: Predators use interception; prey counter with zigzagging

### Escape Trajectory Models

- **Multiple preferred trajectories**: Explained by microhabitat preferences and evasion theory
- **Unpredictability metric**: Directly correlated with evasion success
- **Protean movement theory**: Adaptively unpredictability as optimal strategy

### Group Dynamics Models

- **Crowded-selfish-herd model** (Yang et al., 2021): Includes confusion effect
- **Collective evasion dynamics**: Principles of collective behavior and individual movement

---

## Return to Normal Behavior

### Post-Threat Recovery

- **PTSD-like responses**: Documented in wild animals after predator encounters
- **Lasting behavioral changes**: Fear conditioning causes enduring memory formation
- **Neurogenesis suppression**: Predator fear causes lasting behavioral changes
- **Individual variation**: Diverse behavioral phenotypes emerge after trauma

### Recovery Patterns

- **Not immediate**: Many animals don't quickly return to normal behavior
- **Altered stress responses**: Persist well beyond immediate danger period
- **Coping mechanisms**: Range from overeating to behavioral adaptations
- **Habituation**: Repeated non-lethal encounters can reduce FID over time

---

## Key Academic References

### Flight Initiation Distance

1. **Katsis et al. (2024)** - Journal of Avian Biology
2. **Blumstein et al. (2023)** - Animal Behaviour
3. **Morelli et al. (2022)** - "Flight Initiation Distance and Refuge in Urban Birds"
4. **Nepali et al. (2024)** - Royal Society Open Science
5. **Ydenberg & Dill (1986)** - "The Economics of Fleeing from Predators"

### Escape Strategies and Trajectories

6. **Moore et al. (2017)** - "Unpredictability of Escape Trajectory" - Nature Communications (106+ citations)
7. **Kawabata et al. (2023)** - "Multiple Preferred Escape Trajectories" - eLife
8. - "Pursuit-Evasion Differential Games" - arXiv
9. - "Game Theory Methods" - IOP Science

### Panic and Group Behavior

10. **(2022)** - "A Stampede of Risso's Dolphins Following Playbacks of Killer Whale Calls"
11. **(2022)** - "How Predator Confusion Shapes Swarm-Like Behaviors"
12. **Yang et al. (2021)** - "The Crowded-Selfish-Herd Model"

### Species-Specific Studies

13. **Stankowich (2008)** - "Ungulate Flight Responses to Human Disturbance" (789 citations)
14. **Griesser (2009)** - "Bird Mobbing Behavior Research"
15. - "Fish Schooling Escape Behavior" - University of Southampton
16. - "Rodent Defense Neural Mechanisms"

### Alarm Signals

17. **Suzuki (2018)** - "Alarm Calls Evoke Visual Search Image" - PNAS
18. - "Peafowl Antipredator Calls Research"
19. - Britannica - "Alarm Signal Zoology"

### Post-Threat Recovery

20. **(2023)** - "Sounds of Danger and Post-Traumatic Stress in Wild Animals"
21. - "Predator-Induced Stress and Ecology of Fear"

---

## Implementation Notes for Minecraft Mod

### Key Behaviors to Implement

1. **Flight Initiation Distance (FID)**: Animals flee at specific threat distance
2. **Escape strategies**: Zigzagging, straight-line to refuge, freezing
3. **Group panic**: Stampeding when multiple animals threatened
4. **Alarm signals**: Vocal/visual warnings to nearby herd members
5. **Predator assessment**: Different responses to different predator types
6. **Recovery behavior**: Gradual return to normal after threat

### Configuration Parameters

| Parameter | Default Range | Description |
|-----------|---------------|-------------|
| `flightInitiationDistance` | 8-32 blocks | Distance to trigger flight |
| `refugeDetectionRange` | 16-48 blocks | Range to detect safe refuge |
| `panicThreshold` | 1-5 | Number of threats triggering panic |
| `escapeStrategy` | STRAIGHT/ZIGZAG/REFUGE | Preferred escape method |
| `zigzagIntensity` | 0.0-1.0 | Amount of directional change |
| `freezingDuration` | 20-200 ticks | Duration of freezing behavior |
| `stampedeSpeed` | 1.2-2.0x | Speed multiplier during stampede |
| `alarmCallRange` | 16-64 blocks | Range of alarm vocalization |

### Minecraft Entity Considerations

**Vanilla animals that could benefit**:
- **Cows, Sheep, Pigs**: Flee from players/predators at FID
- **Rabbits**: Already flee, could add zigzagging
- **Deer (if added)**: Tail-flagging alarm signal
- **Chickens**: Flap upward when threatened
- **Villagers**: Already panic, could be refined

**Behavior improvements**:
- Herd animals flee together (stampede) not individually
- Animals assess threat level before fleeing (closer = more panic)
- Alarm calls cause nearby animals to flee too
- Some animals freeze before fleeing (ambush predator response)
- Escape path considers terrain (don't run off cliffs)
- Recovery period after threat (don't instantly resume grazing)

### Code Structure Suggestion

```java
public class FleeingBehavior {
    private final double flightInitiationDistance;
    private final EscapeStrategy strategy;
    private final double zigzagIntensity;

    public boolean shouldFlee(AnimalEntity animal, LivingEntity threat) {
        double distance = animal.distanceTo(threat);
        return distance < flightInitiationDistance;
    }

    public Vec3d calculateEscapeVector(AnimalEntity animal, LivingEntity threat) {
        Vec3d awayFromThreat = animal.position().subtract(threat.position()).normalize();

        switch (strategy) {
            case STRAIGHT:
                return awayFromThreat;
            case ZIGZAG:
                // Add perpendicular component for zigzag
                Vec3d perpendicular = new Vec3d(-awayFromThreat.z, 0, awayFromThreat.x);
                double zigzag = Math.sin(animal.tickCount * 0.5) * zigzagIntensity;
                return awayFromThreat.add(perpendicular.scale(zigzag)).normalize();
            case REFUGE:
                BlockPos refuge = findNearestRefuge(animal);
                if (refuge != null) {
                    return Vec3d.atCenterOf(refuge).subtract(animal.position()).normalize();
                }
                return awayFromThreat;
            case FREEZE:
                return Vec3d.ZERO;  // Don't move
        }
        return awayFromThreat;
    }

    public void alertNearby(AnimalEntity animal, LivingEntity threat) {
        double alarmRange = 32.0;
        animal.level().getEntitiesOfClass(animal.getClass(),
            animal.getBoundingBox().inflate(alarmRange))
            .forEach(nearby -> {
                if (nearby != animal) {
                    nearby.setTarget(threat);
                    nearby.setAggroTime(100);  // Keep aggro for a while
                }
            });
    }
}

public enum EscapeStrategy {
    STRAIGHT,   // Run directly away
    ZIGZAG,     // Unpredictable path changes
    REFUGE,     // Head toward nearest shelter
    FREEZE      // Stay immobile briefly
}
```

### Threat Assessment

| Predator Type | Prey Response | Example |
|---------------|---------------|---------|
| **Ambush** (creeping) | Freeze first, then flee | Cats, spiders |
| **Cursorial** (chasing) | Immediate flight | Wolves, foxes |
| **Aerial** | Seek cover immediately | Phantoms, bees |
| **Large** | Group defense if possible | Bears, ravagers |
| **Human** | Habituated vs. naive response | Players vary |
